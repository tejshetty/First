<div class="panel-top-menu panel panel-primary">
    <p ng-show="loadingCircleClub" class="text-center"><img src="/SmartServe/Content/images/Spinner.gif" alt="...........LOADING" class="loading" /></p>
    <div class="panel-body" ng-hide="loadingCircleClub">
        <div ng-show="IsCustomerSelected">
            <div class="text-center text-danger col-md-offset-1 col-md-10" ng-if="UserId == 0">
                <b>This user do not have a Cricut.com account (they previously might have checked out as a Guest). Please ask the user to create an account in Cricut.com before adding any entitlements to this account.</b>
            </div>
            <table>
                <tr>
                    <td class="col-md-6">
                        <table class="customer-table">
                            <tr>
                                <td class="panel-background width2">
                                    <i class="fa fa-user fa-2x" aria-hidden="true"></i>
                                </td>
                                <td class="panel-background width6">
                                    Name
                                </td>
                                <td class="panel-background width20">
                                    <strong class="text-label">{{CustomerName}} <span ng-if="!CustomerName">NA</span> </strong>
                                </td>
                            </tr>
                            <tr>
                                <td class="panel-background width2">
                                    <i class="fa fa-envelope fa-2x" aria-hidden="true"></i>
                                </td>
                                <td class="panel-background width6">
                                    Email 
                                </td>
                                <td class="panel-background width20">
                                    <strong class="text-label">{{Email}} <span ng-if="!Email">NA</span> </strong>
                                </td>
                            </tr>
                            <tr>
                                <td class="panel-background width2">
                                    <i class="fa fa-phone-square fa-2x" aria-hidden="true"></i>
                                </td>
                                <td class="panel-background width8">
                                    Phone 
                                </td>
                                <td class="panel-background width20">
                                    <strong class="text-label">{{Phone.replace('null','NA')}}<span ng-if="!Phone">NA</span> </strong>
                                </td>
                            </tr>
                            <tr>
                                <td class="panel-background width4">
                                    <i class="fa fa-credit-card fa-2x" aria-hidden="true"></i>
                                </td>
                                <td class="panel-background width6">
                                    Store Credit Balance 
                                </td>
                                <td class="panel-background width20">
                                    <strong class="text-label">{{storeCreditBalance}}<span ng-if="!storeCreditBalance">NA</span></strong>
                                </td>
                            </tr>

                            <tr>
                                <td class="panel-background width2">
                                    <i class="fa fa-address-card fa-2x" aria-hidden="true"></i>
                                </td>
                                <td class="panel-background width40">Default Billing Address</td>
                                <td rowspan="3" class="panel-background">
                                    <strong class="text-label">{{defaultBillingAddress}}<span ng-if="!defaultBillingAddress">NA</span></strong>
                                </td>
                            </tr>
                        </table>
                    </td>
                    <td class="col-md-6">
                        <table class="customer-table">
                            <tr>
                                <td class="panel-background width2">
                                    <i class="fa fa-users fa-2x" aria-hidden="true"></i>
                                </td>
                                <td class="panel-background width6">
                                    Group
                                </td>
                                <td class="panel-background width20">
                                    <strong class="text-label">{{groupName}}<span ng-if="!groupName">NA</span></strong>
                                </td>

                            </tr>
                            <tr>
                                <td class="panel-background width2">
                                    <i class="fa fa-sign-in fa-2x" aria-hidden="true"></i>
                                </td>
                                <td class="panel-background width6">
                                    Last Login 
                                </td>
                                <td class="panel-background width20">
                                    <strong class="text-label">{{LoginTime.replace('null','NA')}} <span ng-if="!LoginTime">NA</span> </strong>
                                </td>

                            </tr>
                            <tr>
                                <td class="panel-background width2">
                                    <i class="fa fa-shopping-cart fa-2x" aria-hidden="true"></i>
                                </td>
                                <td class="panel-background width20">
                                    Total Orders 
                                </td>
                                <td class="panel-background width20">
                                    <strong class="text-label">{{ordersCount}}</strong>
                                </td>

                            </tr>
                            <tr>
                                <td class="panel-background width2">
                                    <i class="fa fa-dollar fa-2x" aria-hidden="true"></i>
                                </td>
                                <td class="panel-background width6">
                                    Lifetime Sales 
                                </td>
                                <td class="panel-background width20">
                                    <strong class="text-label">{{lifetimeSales}}</strong>
                                </td>
                            </tr>
                            <tr>
                                <td class="panel-background width2">
                                    <i class="fa fa-cc-stripe fa-2x" aria-hidden="true"></i>
                                </td>
                                <td class="panel-background width6">
                                    Subscription Card 
                                </td>
                                <td class="panel-background width20">
                                    <strong class="text-label">{{subscriptionCard}} <span ng-if="!subscriptionCard">NA</span> </strong>
                                </td>
                            </tr>
                            <tr>
                                <td class="panel-background width2">
                                    <i class="fa fa-address-card fa-2x" aria-hidden="true"></i>
                                </td>
                                <td class="panel-background width40">Default Shipping Address</td>
                                <td rowspan="3" class="panel-background">
                                    <strong class="text-label">{{defaultShippingAddress}}<span ng-if="!defaultShippingAddress">NA</span></strong>
                                </td>
                            </tr>
                        </table>
                    </td>
                    <td class="col-md-6">
                        <table>
                            <tr>
                                <td>
                                    <div class="panel panel-default">
                                        <div class="panel-heading">
                                            <h4 class="panel-title">
                                                Customer Notes
                                            </h4>
                                        </div>
                                        <div class="panel-body">
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <textarea rows="5" cols="35" ng-model="selectedCustomer.custnotes" ng-disabled="isEditable"></textarea>
                                                </div>
                                            </div>
                                            <div class="text-right">
                                                <button class="btn btn-primary" ng-show="isEditable" style="text-align-last:right" ng-click="EditNotes()">Edit </button>
                                                <button class="btn btn-primary" ng-show="!isEditable" style="text-align-last:right" ng-click="UpdateNotes()">Update </button>
                                            </div>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="reset-password-panel">
                                        <div class="sendmail-panel">
                                            <strong>Send Mail</strong> &nbsp;<input type="checkbox" id="resetpwd" ng-checked="EditedCustomer.SendMail" ng-click="SendResetPassword()" />
                                            <button class="btn btn-primary" ng-click="ResetPassword()" ng-disabled="IsDisabled">
                                                <span ng-show="searchButtonText == 'Loading'"><i class="fa fa-refresh spinning"></i></span>
                                                Reset Password
                                            </button>
                                        </div>
                                    </div>

                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
            </table>
            <div class="panel-body">
                <div ng-show="PasswordResetted" class="text-center text-danger"><strong>Password has been reset to default password cricut123.</strong></div>
            </div>
        </div>
        <div class="text-center text-danger" ng-show="!IsCustomerSelected">
            <strong>Please search and select a customer to proceed further.</strong>
        </div>
    </div>
</div>
<script>
    function checkDec(e) {
        var keyCode = (e.which) ? e.which : e.keyCode;
        if ((keyCode >= 48 && keyCode <= 57) || (keyCode == 8 || (keyCode == 45)))
            return true;
        else if (keyCode == 46) {
            var curVal = document.activeElement.value;
            if (curVal != null && curVal.trim().indexOf('.') == -1)
                return true;
            else
                return false;
        }
        else
            return false;
    }
</script>
